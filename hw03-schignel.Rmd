---
title: "Homework 3"
author: "Stephen Chignell"
date: "October 2, 2018"
output: github_document
---

# Load Libraries

```{r libraries}
suppressPackageStartupMessages(library(gapminder))
suppressPackageStartupMessages(library(tidyverse))
suppressPackageStartupMessages(library(ggplot2))

```

# Exploration Tasks
We will use the following sections to demonstrate a few common tasks used in data exploration. The will provide a useful reference for future work. 

###1. Get the maximum and minimum of GDP per capita for all continents

```{r minmax GDP}
GDPmm <- gapminder %>% # begin pipe and assign output to variable "GDP"
  group_by(continent) %>% # group data by continent
  summarize(max.gdp = max(gdpPercap), # extract max using the max() function.
            min.gdp = min(gdpPercap)) # extract min using the min() function.
# Summarize() reduces a dataset down to just the specified values.
```

**Display the results as a table**
```{r results = 'asis'}
knitr::kable(GDPmm)
```

Plot using a barchart

```{r barmax}
ggplot(GDPmm, aes(continent, max.gdp))+
  geom_bar(stat = "identity", position = "dodge")+
  aes(color = continent, fill = continent)+
  xlab("Continent")+
  ylab("Maximum GDP per Capita")
  
```

```{r barmin}
ggplot(GDPmm, aes(continent, min.gdp))+
  geom_bar(stat = "identity")+
  aes(color = continent, fill = continent)+
  xlab("Continent")+
  ylab("Minimum GDP per Capita")
  
```

###2. Look at the spread of GDP per capita within the continents
```{r spread GDP}
GDP_spread <- gapminder %>% 
  group_by(continent) %>% 
  summarize(mean.gdp = mean(gdpPercap),
            var.gdp = var(gdpPercap),
            sd.gdp = sd(gdpPercap)
            )
knitr::kable(GDP_spread)
```
```{r boxplot}
gapminder %>% 
  group_by(continent) %>% 
  ggplot(aes(continent, gdpPercap)) +
  geom_boxplot(aes(color = continent))+
  xlab("Continent")+
  ylab("GDP per Capita")+
  ggtitle("Gross Domestic Product per capita by Continent (1952-2007)")
```

However, a violin plot will provide a better sense of the spread:

```{r violin}
gapminder %>% 
  group_by(continent) %>% 
  ggplot(aes(continent, gdpPercap))+
  geom_jitter(aes(color = continent, alpha=0.1))+
  geom_violin(aes(color = continent))+
  xlab("Continent")+
  ylab("GDP per capita")+
  ggtitle("Gross Domestic Product per capita by Continent (1952-2007)")
```

Here we see that GDP per capita varies widely within continents. This is particularly true for Asia, which has a far more extreme range than any of the other continents. 

###3. How is life expectancy changing over time on different continents?

For this question, we will first:

```{r lifexp}
lexp <- gapminder %>% 
  group_by(continent, year) %>%
  summarize(mean.lexp = mean(lifeExp)) %>% 
  arrange(year)
knitr::kable(lexp)  

  
```
```{r}
ggplot(data = lexp, aes(x = year, y = mean.lexp))+
  geom_line(aes(color = continent))+
  geom_point(aes(color = continent))+
  xlab("Year")+
  ylab("Mean Life Expactany")+
  ggtitle("Mean Life Expectancy by Continent (1952-2007)")
```



Here we see that on average, life expectancy has been increasing from 1952 to 2007. The one exception is Africa, which has remained relatively level from 1987 until a slight increase in 2007. 

Also, it is interesting to see that there are no crossing of the continenents; they each remain in the same rank as they started in. 




